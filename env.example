# =============================================================================
# MetaMCP Environment Configuration
# =============================================================================
# Copy this file to .env and update with your actual values
# NEVER commit .env files to version control

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=MetaMCP
APP_VERSION=1.0.0
DEBUG=false
ENVIRONMENT=production

# =============================================================================
# SERVER SETTINGS
# =============================================================================
HOST=0.0.0.0
PORT=8000
WORKERS=4

# =============================================================================
# DATABASE SETTINGS
# =============================================================================
DATABASE_URL=postgresql://metamcp:your_secure_password@localhost/metamcp
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# =============================================================================
# VECTOR DATABASE SETTINGS
# =============================================================================
WEAVIATE_URL=http://localhost:8080
WEAVIATE_API_KEY=your_weaviate_api_key_here
VECTOR_DIMENSION=1536

# =============================================================================
# LLM SETTINGS
# =============================================================================
LLM_PROVIDER=openai
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4
OPENAI_BASE_URL=
OPENAI_EMBEDDING_MODEL=text-embedding-ada-002

# =============================================================================
# AUTHENTICATION SETTINGS
# =============================================================================
# Generate a secure secret key: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your_secure_secret_key_here_must_be_at_least_32_characters
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# DEFAULT ADMIN SETTINGS (for initial setup only)
# =============================================================================
# These are only used for initial admin user creation
# Remove or comment out after first setup
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_PASSWORD=your_secure_admin_password_here

# =============================================================================
# ENHANCED SECURITY SETTINGS
# =============================================================================
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_SPECIAL=true
SESSION_TIMEOUT_MINUTES=60
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=30

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
OPA_URL=http://localhost:8181
OPA_TIMEOUT=5

# =============================================================================
# LOGGING SETTINGS
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# =============================================================================
# MONITORING SETTINGS
# =============================================================================
PROMETHEUS_METRICS_PORT=9090

# =============================================================================
# OPENTELEMETRY SETTINGS
# =============================================================================
OTLP_ENDPOINT=
OTLP_INSECURE=false
TELEMETRY_ENABLED=true

# =============================================================================
# CORS SETTINGS
# =============================================================================
# In production, specify exact origins instead of ["*"]
CORS_ORIGINS=["https://yourdomain.com", "https://admin.yourdomain.com"]
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60
RATE_LIMIT_USE_REDIS=true
RATE_LIMIT_REDIS_URL=redis://localhost:6379/2

# =============================================================================
# TOOL EXECUTION SETTINGS
# =============================================================================
TOOL_TIMEOUT=30
TOOL_RETRY_ATTEMPTS=3
TOOL_RETRY_DELAY=1.0

# =============================================================================
# CIRCUIT BREAKER SETTINGS
# =============================================================================
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=2

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
CACHE_ENABLED=true
CACHE_REDIS_URL=redis://localhost:6379/1
CACHE_DEFAULT_TTL=3600
CACHE_MAX_TTL=604800
CACHE_MAX_CONNECTIONS=20

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
WORKER_THREADS=8
MAX_CONCURRENT_REQUESTS=200

# =============================================================================
# TOOL REGISTRY SETTINGS
# =============================================================================
TOOL_REGISTRY_ENABLED=true
TOOL_REGISTRY_AUTO_DISCOVERY=true
TOOL_REGISTRY_CACHE_TTL=300

# =============================================================================
# VECTOR SEARCH SETTINGS
# =============================================================================
VECTOR_SEARCH_ENABLED=true
VECTOR_SEARCH_SIMILARITY_THRESHOLD=0.7
VECTOR_SEARCH_MAX_RESULTS=10

# =============================================================================
# POLICY SETTINGS
# =============================================================================
POLICY_ENFORCEMENT_ENABLED=true
POLICY_DEFAULT_ALLOW=false

# =============================================================================
# ADMIN SETTINGS
# =============================================================================
ADMIN_ENABLED=true
ADMIN_PORT=8501

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
RELOAD=false
DOCS_ENABLED=false

# =============================================================================
# OAUTH PROVIDER URLS
# =============================================================================
GOOGLE_OAUTH_AUTHORIZATION_URL=https://accounts.google.com/oauth/authorize
GOOGLE_OAUTH_TOKEN_URL=https://oauth2.googleapis.com/token
GOOGLE_OAUTH_USERINFO_URL=https://www.googleapis.com/oauth2/v2/userinfo
GITHUB_OAUTH_AUTHORIZATION_URL=https://github.com/login/oauth/authorize
GITHUB_OAUTH_TOKEN_URL=https://github.com/login/oauth/access_token
GITHUB_OAUTH_USERINFO_URL=https://api.github.com/user
MICROSOFT_OAUTH_AUTHORIZATION_URL=https://login.microsoftonline.com/common/oauth2/v2.0/authorize
MICROSOFT_OAUTH_TOKEN_URL=https://login.microsoftonline.com/common/oauth2/v2.0/token
MICROSOFT_OAUTH_USERINFO_URL=https://graph.microsoft.com/v1.0/me

# =============================================================================
# OAUTH PROVIDER CREDENTIALS
# =============================================================================
GOOGLE_OAUTH_CLIENT_ID=your_google_oauth_client_id
GOOGLE_OAUTH_CLIENT_SECRET=your_google_oauth_client_secret
GITHUB_OAUTH_CLIENT_ID=your_github_oauth_client_id
GITHUB_OAUTH_CLIENT_SECRET=your_github_oauth_client_secret
MICROSOFT_OAUTH_CLIENT_ID=your_microsoft_oauth_client_id
MICROSOFT_OAUTH_CLIENT_SECRET=your_microsoft_oauth_client_secret

# =============================================================================
# REDIS SETTINGS
# =============================================================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0 